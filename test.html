<!DOCTYPE html>
<meta charset="utf-8">
<style>
    body {
        font-family: 'opensans', sans-serif;
      	display: flex;
      	justify-content: center;
      	align-items: center;
      	height: 100vh;
    }
</style>
<script src="https://d3js.org/d3.v4.min.js"></script>
<body>
  <div class="buttons">
    <button>Zoom In
    </button>
<svg class="viz" width="720" height="660"></svg>
</body>
<script>
var xScale = d3.scaleLinear()
    .domain([0,5000])
    .range([100,500])

var yScale = d3.scaleLinear()
    .domain([0,5000])
    .range([100,500])

var xAxis = d3.axisTop(xScale)
              .tickSize(5);

var yAxis = d3.axisLeft(yScale)
              .tickSize(5);

var dataPoints = [
  {
    "x": 1,
    "y": 1
  },
  {
    "x": 1010,
    "y": 30
  },
  {
    "x": 1020,
    "y": 600
  },
  {
    "x": 50,
    "y": 400
  }

];

var svg = d3.select("svg"),
    width = +svg.attr("width"),
    height = +svg.attr("height");


       var k = 10 / (xScale(1020) - xScale(1010))
       var tx = 200 - k * xScale(1010)
       var t = d3.zoomIdentity.translate(tx, 0).scale(k)

       var c = 10 / (yScale(1020) - yScale(1010))
       var mx = 200 - c * yScale(1010)
       var s = d3.zoomIdentity.translate(mx, 0).scale(c)

       var xNewScale = t.rescaleX(xScale)
       var yNewScale = s.rescaleY(yScale)

       var xAxis = d3.axisTop()
       .scale(xNewScale)
       .ticks(3)

       var yAxis = d3.axisLeft()
       .scale(yNewScale)
       .ticks(3)

svg.append('g')
   .attr('transform', 'translate(0,' + 60 + ')')
   .classed('x axis', true)
   .call(xAxis);

svg.append('g')
    .attr('transform', 'translate(' + 60 + ',0)')
    .classed('y axis', true)
    .call(yAxis);


svg.append('g')
.attr('transform', 'translate(0,' + 30 + ')')
.selectAll('circle')
.data(dataPoints)
.enter()
.append('circle')
.style('fill', 'none')
.style('stroke', '#000')
.style('stroke-width', '2')
.attr('r', 7)
.attr('cx', function(d) { return t.applyX(xScale(d.x)); })
.attr('cy', function(d) { return s.applyY(yScale(d.y)); });

var circles = svg.selectAll('circle');
var zoom = d3.zoom().on('zoom', zoomed);

function zoomed() {
    var transform = d3.event.transform;

    // rescale the x linear scale so that we can draw the top axis
    var xNewScale = transform.rescaleX(xScale);
     xAxis.scale(xNewScale)
          .ticks(3)
     svg.selectAll('g.x').call(xAxis);

    // do the same for the y linear scale
    var yNewScale = transform.rescaleY(yScale);
     yAxis.scale(yNewScale)
          .ticks(3)
     svg.selectAll('g.y').call(yAxis);

    // draw the circles in their new positions
    circles.attr('cx', function(d) { return transform.applyX(xScale(d.x)); });
    circles.attr('cy', function(d) { return transform.applyY(yScale(d.y)); });
}

svg.call(zoom)


</script>
</html>
